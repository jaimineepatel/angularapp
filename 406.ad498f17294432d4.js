"use strict";(self.webpackChunkToDoList=self.webpackChunkToDoList||[]).push([[406],{406:(Q,m,s)=>{s.r(m),s.d(m,{CRUDJSONModule:()=>L});var l=s(895),a=s(22),o=s(433),e=s(256),h=s(529);let p=(()=>{class r{constructor(t){this.http=t}get(){return this.http.get("http://localhost:3000/users")}create(t){return this.http.post("http://localhost:3000/users",t)}getById(t){return this.http.get(`http://localhost:3000/users/${t}`)}update(t){return this.http.put(`http://localhost:3000/users/${t.id}`,t)}delete(t){return this.http.delete(`http://localhost:3000/users/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function g(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function U(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at least 1 character."),e.qZA())}function _(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at most 250 characters."),e.qZA())}function v(r,i){if(1&r&&(e.TgZ(0,"div",13),e.YNc(1,g,2,0,"div",14),e.YNc(2,U,2,0,"div",14),e.YNc(3,_,2,0,"div",14),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.name.errors?null:t.name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.name.errors?null:t.name.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.name.errors?null:t.name.errors.maxlength)}}function f(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function Z(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at least 1 character."),e.qZA())}function T(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at most 250 characters."),e.qZA())}function C(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Invalid Email Address."),e.qZA())}function b(r,i){if(1&r&&(e.TgZ(0,"div",13),e.YNc(1,f,2,0,"div",14),e.YNc(2,Z,2,0,"div",14),e.YNc(3,T,2,0,"div",14),e.YNc(4,C,2,0,"div",14),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.email.errors?null:t.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.email.errors?null:t.email.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.email.errors?null:t.email.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.email.errors?null:t.email.errors.email)}}function q(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Phone is required"),e.qZA())}function A(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at least 10 character."),e.qZA())}function x(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"This field must have at most 10 character."),e.qZA())}function y(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Invalid Phone number."),e.qZA())}function I(r,i){if(1&r&&(e.TgZ(0,"div",13),e.YNc(1,q,2,0,"div",14),e.YNc(2,A,2,0,"div",14),e.YNc(3,x,2,0,"div",14),e.YNc(4,y,2,0,"div",14),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.phone.errors?null:t.phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.phone.errors?null:t.phone.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.phone.errors?null:t.phone.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.phone.errors?null:t.phone.errors.pattern)}}const u=function(r){return{"is-invalid":r}};let c=(()=>{class r{constructor(t,n,d){this.route=t,this.router=n,this.userService=d,this.userForm=new o.nJ({}),this.submittedUser=!1,this.isAddMode=!0}ngOnInit(){this.userFormInit(),this.route.paramMap.subscribe(t=>{this.id=Number(t.get("id")),this.id&&(this.getById(this.id),this.isAddMode=!1)})}getById(t){this.userService.getById(t).subscribe(n=>{this.userForm.patchValue(n)})}userFormInit(){this.userForm=new o.nJ({id:new o.p4,name:new o.p4("",[o.kI.required,o.kI.minLength(1),o.kI.maxLength(250)]),email:new o.p4("",[o.kI.required,o.kI.minLength(1),o.kI.maxLength(250),o.kI.email]),phone:new o.p4("",[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10),o.kI.pattern(/\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)])})}get frmUser(){return this.userForm.controls}get name(){return this.userForm.get("name")}get email(){return this.userForm.get("email")}get phone(){return this.userForm.get("phone")}onSubmit(){this.submittedUser=!0,!this.userForm.invalid&&(this.isAddMode?this.createUser():this.updateUser())}createUser(){this.userService.create(this.userForm.value).subscribe({next:()=>{this.router.navigate(["/users"])},error:t=>{console.log(t)}})}updateUser(){this.userService.update(this.userForm.value).subscribe({next:()=>{this.router.navigate(["/users"])},error:t=>{console.log(t)}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.gz),e.Y36(a.F0),e.Y36(p))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-create-update"]],decls:28,vars:13,consts:[[1,"container"],[1,"my-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","fname",1,"form-label","smaller"],[1,"text-danger"],["type","text","autoFocus","","maxlength","50","id","name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label","smaller"],["type","text","maxlength","50","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","phone",1,"form-label","smaller"],["type","text","maxlength","50","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-sm","btn-primary","mt-1"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Add a User"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Name "),e.TgZ(8,"span",5),e._uU(9,"*"),e.qZA()(),e._UZ(10,"input",6),e.YNc(11,v,4,3,"div",7),e.qZA(),e.TgZ(12,"div",3)(13,"label",8),e._uU(14,"Email "),e.TgZ(15,"span",5),e._uU(16,"*"),e.qZA()(),e._UZ(17,"input",9),e.YNc(18,b,5,4,"div",7),e.qZA(),e.TgZ(19,"div",3)(20,"label",10),e._uU(21,"Phone "),e.TgZ(22,"span",5),e._uU(23,"*"),e.qZA()(),e._UZ(24,"input",11),e.YNc(25,I,5,4,"div",7),e.qZA(),e.TgZ(26,"button",12),e._uU(27,"Save User"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",n.userForm),e.xp6(6),e.Q6J("ngClass",e.VKq(7,u,n.name.invalid&&(n.name.dirty||n.name.touched))),e.xp6(1),e.Q6J("ngIf",n.name.invalid&&(n.name.dirty||n.name.touched)),e.xp6(6),e.Q6J("ngClass",e.VKq(9,u,n.email.invalid&&(n.email.dirty||n.email.touched))),e.xp6(1),e.Q6J("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),e.xp6(6),e.Q6J("ngClass",e.VKq(11,u,n.phone.invalid&&(n.phone.dirty||n.phone.touched))),e.xp6(1),e.Q6J("ngIf",n.phone.invalid&&(n.phone.dirty||n.phone.touched)))},dependencies:[l.mk,l.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u]}),r})();const J=function(r){return["/users/edit",r]};function N(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",15),e._uU(11,"Edit"),e.qZA(),e._uU(12," | "),e.TgZ(13,"button",13),e.NdJ("click",function(){const k=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.openDeleteModal(k.id))}),e._uU(14,"Delete"),e.qZA()()()}if(2&r){const t=i.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Q6J("routerLink",e.VKq(5,J,t.id))}}const F=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users"]],decls:13,vars:0,consts:[[1,"container"],[1,"my-3"],[1,"card"],[1,"card-header"],[1,"nav","nav-pills","card-header-pills"],[1,"nav-item"],["routerLink","list",1,"nav-link"],["routerLink","add",1,"nav-link"],[1,"card-body"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),e._uU(7,"List"),e.qZA()(),e.TgZ(8,"li",5)(9,"a",7),e._uU(10,"Add"),e.qZA()()()(),e.TgZ(11,"div",8),e._UZ(12,"router-outlet"),e.qZA()()())},dependencies:[a.lC,a.yS]}),r})(),children:[{path:"list",component:(()=>{class r{constructor(t){this.userService=t,this.allUsers=[],this.idTodelete=0}ngOnInit(){this.get(),this.deleteModal=new window.bootstrap.Modal(document.getElementById("deleteModal"))}get(){this.userService.get().subscribe(t=>{this.allUsers=t})}openDeleteModal(t){this.idTodelete=t,this.deleteModal.show()}delete(){this.userService.delete(this.idTodelete).subscribe({next:t=>{this.allUsers=this.allUsers.filter(n=>n.id!=this.idTodelete),this.deleteModal.hide()}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],decls:31,vars:1,consts:[[1,"card-title"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","deleteModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],["scope","row"],[1,"btn","btn-primary",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"h5",0),e._uU(1,"Users List"),e.qZA(),e.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),e._uU(6,"Id"),e.qZA(),e.TgZ(7,"th",2),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th",2),e._uU(10,"Quantity"),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"Price"),e.qZA(),e.TgZ(13,"th",2),e._uU(14,"Edit | Delete"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,N,15,7,"tr",3),e.qZA()(),e.TgZ(17,"div",4)(18,"div",5)(19,"div",6)(20,"div",7)(21,"h5",8),e._uU(22,"Warning!"),e.qZA(),e._UZ(23,"button",9),e.qZA(),e.TgZ(24,"div",10),e._uU(25," Are you sure to delete the item? "),e.qZA(),e.TgZ(26,"div",11)(27,"button",12),e._uU(28,"Close"),e.qZA(),e.TgZ(29,"button",13),e.NdJ("click",function(){return n.delete()}),e._uU(30,"Confirm Delete"),e.qZA()()()()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",n.allUsers))},dependencies:[l.sg,a.yS]}),r})()},{path:"add",component:c},{path:"edit/:id",component:c},{path:"",redirectTo:"list",pathMatch:"full"}]}];let S=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[a.Bz.forChild(F),a.Bz]}),r})(),L=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.ez,S,o.u5,o.UX]}),r})()}}]);